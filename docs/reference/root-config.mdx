---
title: Root
description: Complete field reference for the .hyperterse root configuration file.
---

The root configuration file (`.hyperterse`) defines service-level settings. It does not contain adapter or tool definitions — those are discovered from the `app/` directory.

## Full schema

```yaml .hyperterse
name: my-service
version: 1.0.0

server:
  port: 8080
  log_level: 3
  queries:
    cache:
      enabled: true
      ttl: 60

build:
  out: dist
  clean_dir: false

framework:
  app_dir: app
```

## Field reference

<ParamField
  body="name"
  type="string"
  required
>
  Service identifier. Used in logging, tracing, and manifest metadata. Must
  match `^[a-z][a-z0-9_-]*$`.
</ParamField>

<ParamField
  body="version"
  type="string"
>
  Service version. Informational. Included in manifest metadata and startup
  logs.
</ParamField>

<ParamField body="server" type="object">
  Server runtime settings.

  <Expandable title="properties">
    <ParamField body="port" type="integer | string" default="8080">
      TCP port for the HTTP/MCP server.

      **Resolution order:** `--port` flag → `server.port` config → `PORT` env → `8080`
    </ParamField>

    <ParamField body="log_level" type="integer" default="3">
      Log verbosity. `1` = error, `2` = warn, `3` = info, `4` = debug.

      **Resolution order:** `--verbose` (4) → `--log-level` flag → `server.log_level` config → `3`
    </ParamField>

    <ParamField body="queries" type="object">
      Query execution settings.

      <Expandable title="properties">
        <ParamField body="cache" type="object">
          Global cache settings.

          <Expandable title="properties">
            <ParamField body="enabled" type="boolean" default="false">
              Enable in-memory query result caching globally. Individual tools can override this.
            </ParamField>

            <ParamField body="ttl" type="integer" default="120">
              Default TTL in seconds for cached query results. Individual tools can override this.
            </ParamField>
          </Expandable>
        </ParamField>
      </Expandable>
    </ParamField>

  </Expandable>
</ParamField>

<ParamField body="build" type="object">
  Build output settings.

  <Expandable title="properties">
    <ParamField body="out" type="string" default="dist">
      Output directory for build artifacts. Also accepts `out_dir` as an alias.

      **Resolution order:** `--out` flag → `build.out` config → `dist`
    </ParamField>

    <ParamField body="clean_dir" type="boolean" default="false">
      Remove output directory before building.
    </ParamField>

  </Expandable>
</ParamField>

<ParamField body="framework" type="object">
  Framework discovery settings.

  <Expandable title="properties">
    <ParamField body="app_dir" type="string" default="app">
      Base directory for adapter and tool discovery. Relative to the root config path.
    </ParamField>
  </Expandable>
</ParamField>

## Environment variable substitution

String values support `{{ env.VAR_NAME }}` placeholders, resolved at runtime:

```yaml
server:
  port: '{{ env.PORT }}'
```

<Warning>
  Missing variables cause a startup failure. Verify all referenced variables are
  set before deploying.
</Warning>

## JSON Schema

Editor validation: `schema/root.terse.schema.json`. See [Configuration schemas](/reference/configuration-schemas).

## Examples

<Tabs>
  <Tab title="Minimal">
    ```yaml .hyperterse
    name: my-service
    ```

    All other fields use defaults: port `8080`, log level `3`, caching disabled.

  </Tab>
  <Tab title="Production">
    ```yaml .hyperterse
    name: production-service
    version: 2.1.0

    server:
      port: "{{ env.PORT }}"
      log_level: 2
      queries:
        cache:
          enabled: true
          ttl: 300

    build:
      out: release
      clean_dir: true
    ```

  </Tab>
</Tabs>
