---
title: Configuration schemas
description: JSON Schema files for editor-time validation of .hyperterse and .terse configuration files.
---

Hyperterse ships three role-based JSON Schema files for editor-time validation, autocompletion, and inline documentation.

| Schema file                        | Target files                | Purpose                    |
| ---------------------------------- | --------------------------- | -------------------------- |
| `schema/root.terse.schema.json`    | `.hyperterse`               | Root service configuration |
| `schema/adapter.terse.schema.json` | `app/adapters/*.terse`      | Adapter definitions        |
| `schema/route.terse.schema.json`   | `app/routes/*/config.terse` | Route/tool definitions     |

## Generation

Schemas are generated from internal type definitions:

```bash
make generate
```

The generator reads connector and primitive type enums and emits JSON Schema files with the correct `enum` constraints.

## Editor setup

Point your editor at the schema files to enable autocompletion, hover docs, and inline validation for `.terse` files.

### VS Code / Cursor

Add to `.vscode/settings.json`:

```json
{
  "yaml.schemas": {
    "schema/root.terse.schema.json": "**/.hyperterse",
    "schema/adapter.terse.schema.json": "**/adapters/*.terse",
    "schema/route.terse.schema.json": "**/routes/**/config.terse"
  }
}
```

Requires the [YAML extension](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml).

### JetBrains IDEs

**Settings → Languages & Frameworks → Schemas and DTDs → JSON Schema Mappings.** Add one mapping per schema with the appropriate file pattern.

## Schema highlights

Each schema enforces required fields, value constraints, and structural rules for its configuration level.

### Root (`root.terse.schema.json`)

- `name` — Required. Pattern: `^[a-z][a-z0-9_-]*$`.
- `version` — Optional string.
- `server.port` — Integer or string.
- `server.log_level` — Integer, 1–4.
- `server.queries.cache` — `enabled` (boolean), `ttl` (integer).
- `build.out` / `build.out_dir` — String.
- `build.clean_dir` — Boolean.
- `framework.app_dir` — String.

### Adapter (`adapter.terse.schema.json`)

- `connector` — Required. Enum: `postgres`, `redis`, `mysql`, `mongodb`.
- `connection_string` — Required string.
- `name` — Optional.
- `options` — Optional map.

### Route (`route.terse.schema.json`)

- `description` — Required string.
- `use` — String or string[].
- `statement` — String.
- `inputs` — Map of typed definitions.
- `data` — Map of typed definitions.
- `scripts` — `handler`, `input_transform`, `output_transform`.
- `auth` — `plugin`, `policy`.
- `cache` — `enabled`, `ttl`.
- **Constraint:** `use` or `scripts.handler` required (enforced via `allOf`).

## Keeping schemas in sync

When configuration shapes change, schemas and documentation must update in the same change:

1. Regenerate schema artifacts in `schema/`.
2. Update field definitions in reference documentation.
3. Update `.vscode/settings.json` globs if file-role matching changed.
4. Verify the change includes current schema files.
