---
interface Props {
  variant?: "primary" | "secondary" | "ghost";
  size?: "sm" | "md" | "lg";
  href?: string;
  target?: string;
  rel?: string;
  fullWidth?: boolean;
  class?: string;
}

const {
  variant = "primary",
  size = "md",
  href,
  target,
  rel,
  fullWidth = false,
  class: className = "",
} = Astro.props;

const baseStyles = "inline-flex items-center gap-2 font-medium cursor-pointer";

const variantStyles = {
  primary:
    "bg-secondary text-primary hover:bg-secondary/50 hover:text-primary rounded-lg",
  secondary: "bg-fg/20 text-bg hover:bg-fg/40 rounded-lg",
  ghost:
    "border border-dim text-fg hover:border-fg hover:bg-fg/10 rounded-lg",
};

const sizeStyles = {
  sm: "px-4 py-2 text-sm",
  md: "px-4 py-2.5 text-sm",
  lg: "px-6 py-3 text-sm",
};

const widthStyles = fullWidth ? "w-full justify-between" : "";

const classes = [
  baseStyles,
  variantStyles[variant],
  sizeStyles[size],
  widthStyles,
  className,
]
  .filter(Boolean)
  .join(" ");

const Tag = href ? "a" : "button";
---

{
  href ? (
    <a href={href} target={target} rel={rel} class={classes}>
      <slot />
    </a>
  ) : (
    <button class={classes}>
      <slot />
    </button>
  )
}
