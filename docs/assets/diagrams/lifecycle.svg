<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 400" fill="none">
  <style>
    text { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    .step-box { fill: #F0FDFA; stroke: #0F766E; stroke-width: 1.5; rx: 6; }
    .step-box-active { fill: #0F766E; stroke: #0F766E; stroke-width: 1.5; rx: 6; }
    .label { font-size: 13px; fill: #115E59; font-weight: 500; }
    .label-light { font-size: 13px; fill: #FFFFFF; font-weight: 500; }
    .phase { font-size: 11px; fill: #6B7280; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
    .arrow { stroke: #14B8A6; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .divider { stroke: #E5E7EB; stroke-width: 1; stroke-dasharray: 4 4; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#14B8A6"/>
    </marker>
  </defs>

  <!-- Phase labels -->
  <text x="170" y="30" class="phase" text-anchor="middle">Compile time</text>
  <text x="550" y="30" class="phase" text-anchor="middle">Runtime</text>

  <!-- Divider -->
  <line x1="370" y1="15" x2="370" y2="385" class="divider"/>

  <!-- Compile-time steps -->
  <rect x="30" y="50" width="280" height="36" class="step-box"/>
  <text x="170" y="73" class="label" text-anchor="middle">Parse root config (.hyperterse)</text>

  <line x1="170" y1="86" x2="170" y2="105" class="arrow"/>

  <rect x="30" y="105" width="280" height="36" class="step-box"/>
  <text x="170" y="128" class="label" text-anchor="middle">Discover adapters and routes</text>

  <line x1="170" y1="141" x2="170" y2="160" class="arrow"/>

  <rect x="30" y="160" width="280" height="36" class="step-box"/>
  <text x="170" y="183" class="label" text-anchor="middle">Compile route definitions</text>

  <line x1="170" y1="196" x2="170" y2="215" class="arrow"/>

  <rect x="30" y="215" width="280" height="36" class="step-box"/>
  <text x="170" y="238" class="label" text-anchor="middle">Bundle TypeScript + vendor deps</text>

  <line x1="170" y1="251" x2="170" y2="270" class="arrow"/>

  <rect x="30" y="270" width="280" height="36" class="step-box-active"/>
  <text x="170" y="293" class="label-light" text-anchor="middle">Serialize manifest (model.bin)</text>

  <!-- Arrow crossing to runtime -->
  <line x1="310" y1="288" x2="410" y2="288" class="arrow"/>

  <!-- Runtime steps -->
  <rect x="410" y="50" width="280" height="36" class="step-box"/>
  <text x="550" y="73" class="label" text-anchor="middle">Initialize connectors</text>

  <line x1="550" y1="86" x2="550" y2="105" class="arrow"/>

  <rect x="410" y="105" width="280" height="36" class="step-box"/>
  <text x="550" y="128" class="label" text-anchor="middle">Register MCP tools</text>

  <line x1="550" y1="141" x2="550" y2="160" class="arrow"/>

  <rect x="410" y="160" width="280" height="36" class="step-box-active"/>
  <text x="550" y="183" class="label-light" text-anchor="middle">Accept requests on /mcp</text>

  <!-- Dev mode annotation -->
  <rect x="410" y="230" width="280" height="52" rx="6" fill="#FFF7ED" stroke="#F59E0B" stroke-width="1"/>
  <text x="550" y="252" font-size="11" fill="#92400E" font-weight="600" text-anchor="middle">Development mode (--watch)</text>
  <text x="550" y="268" font-size="11" fill="#92400E" text-anchor="middle">Re-compiles on file changes</text>

  <!-- Production annotation -->
  <rect x="410" y="300" width="280" height="52" rx="6" fill="#F0FDF4" stroke="#22C55E" stroke-width="1"/>
  <text x="550" y="322" font-size="11" fill="#166534" font-weight="600" text-anchor="middle">Production mode (build + serve)</text>
  <text x="550" y="338" font-size="11" fill="#166534" text-anchor="middle">Boots from pre-built manifest</text>
</svg>
