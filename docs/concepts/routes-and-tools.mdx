---
title: Routes and tools
description: How routes define MCP tools, input schemas, and execution strategies.
---

A route is the central abstraction in Hyperterse. Each `app/routes/*/config.terse` file defines exactly one MCP tool — its name, description, execution strategy, input schema, authentication policy, and caching behavior. When the server starts, every valid route is registered as a callable tool in the MCP `tools/list` response.

## Execution models

A route's execution model is determined by its configuration. There are two primary models:

**DB-backed routes** execute a SQL or database command through a connector. They require `use` (the adapter name) and `statement`:

```yaml
description: 'Retrieve a user by their identifier'
use: primary-db
statement: |
  SELECT id, name, email, created_at
  FROM users
  WHERE id = {{ inputs.user_id }}
inputs:
  user_id:
    type: int
    description: 'Primary key of the user record'
auth:
  plugin: allow_all
```

**Script-backed routes** delegate execution to a TypeScript handler. No adapter or statement is needed:

```yaml
description: 'Retrieve current weather conditions for a location'
scripts:
  handler: './weather-handler.ts'
auth:
  plugin: allow_all
```

**Hybrid routes** combine a DB adapter with script transforms for pre-processing and post-processing. Execution order is: auth, input transform, DB execution, output transform.

## Tool naming

The MCP tool name comes from the route. If the config sets a `name` field, that value is used. Otherwise, the directory name becomes the tool name. `app/routes/get-user/` becomes `get-user`. Tool names must be unique — duplicates are rejected at compile time.

## Input schema

The `inputs` block defines typed parameters that the tool accepts:

```yaml
inputs:
  user_id:
    type: int
    description: 'Primary key of the user'
  include_inactive:
    type: boolean
    description: 'Whether to include deactivated accounts'
    optional: true
    default: 'false'
```

Supported types are `string`, `int`, `float`, `boolean`, and `datetime`. Required inputs without a default must be provided by the caller. References in statements use `{{ inputs.field_name }}` placeholders.

## Output schema

The optional `data` block declares the expected output shape. It is metadata for documentation and schema generation — it does not enforce runtime result validation.

## Caching

Routes can override the global cache policy with a `cache` block. See [Caching](/runtime/caching) for the full cache model.

## Further reading

See [Route configuration reference](/reference/route-config) for the complete field specification, including all input properties, output definitions, and cache overrides.
