---
title: Adapters
description: Named database connections that routes reference for query execution.
---

An adapter is a named binding between the Hyperterse runtime and a database. You define the connector type and connection string in a `.terse` file under `app/adapters/`, and routes reference adapters by name through the `use` field. The framework handles connection pooling, health checks, and graceful shutdown.

## Defining an adapter

Each adapter file declares a connector type and a connection string:

```yaml
name: primary-db
connector: postgres
connection_string: '{{ env.DATABASE_URL }}'
options:
  sslmode: require
```

The `connector` field selects the database engine. The `connection_string` accepts `{{ env.VAR }}` placeholders, which are resolved at runtime from environment variables. Never commit plaintext credentials — always use environment variables or a secrets manager.

## Supported connectors

Hyperterse ships with four built-in connectors:

<CardGroup cols={2}>
  <Card
    title="PostgreSQL"
    icon="database"
    href="/databases/postgresql"
  >
    SQL queries via `postgresql://` connection strings.
  </Card>
  <Card
    title="MySQL"
    icon="database"
    href="/databases/mysql"
  >
    SQL queries via DSN-format connection strings.
  </Card>
  <Card
    title="MongoDB"
    icon="leaf"
    href="/databases/mongodb"
  >
    JSON command payloads via `mongodb://` connection strings.
  </Card>
  <Card
    title="Redis"
    icon="bolt"
    href="/databases/redis"
  >
    Key-value operations via `redis://` connection strings.
  </Card>
</CardGroup>

## Referencing adapters from routes

Routes point to an adapter by name:

```yaml
# app/routes/get-user/config.terse
use: primary-db
statement: 'SELECT * FROM users WHERE id = {{ inputs.user_id }}'
```

A project can define multiple adapters, and different routes can reference different ones:

```
app/adapters/
  users-db.terse       # PostgreSQL for user data
  analytics-db.terse   # MySQL for analytics
  cache.terse          # Redis for caching
```

## Lifecycle

All adapters referenced by at least one route are initialized in parallel at startup. Each connector establishes its pool and runs a connectivity check. If any connector fails — unreachable host, invalid credentials, network timeout — the runtime exits immediately. This fail-fast behavior prevents serving tools that would error on every request.

On shutdown (`SIGINT` / `SIGTERM`), all connectors close concurrently after in-flight queries complete.

## Further reading

See [Adapter configuration reference](/reference/adapter-config) for the complete field specification, including driver-specific options for each connector.
